# ‫فصل بیستم: قوانین تجاری business rules

- قوانین تجاری قوانین یا روال‌هایی هستند که پول تجارت را ذخیره یا تولید می‌کنند
- این قوانین شامل دو حالت زیر هستند
    - قوانین تجاری قطعی: critical business rules
    - usecases

### قوانین تجاری قطعی

- حتی اگر سیستمی برای خودکارسازی نباشد هم این قوانین وجود دارند
- معمولا داده‌هایی نیاز دارند
- این داده‌ها و قوانین غیرقابل تفکیک متصل به آن‌ها کاندیداهای خوبی برای یک شیئ هستند
- به این گونه اشیاء «موجودیت» می‌گوییم
- موجودیت: Entity
    - مجموعه‌ای از قوانین تجاری قطعی که روی داده‌های تجاری قطعی کار می‌کنند
    - مثالی که زده: موجودیتِ وام
        - یک سری داده و متود دارد
        - عملا یک کلاس است

### Usecases

- بعضی قوانین تجاری با «تعریف و محدودسازی عملیات خودکار سیستم» پول تولید یا ذخیره می‌کنند
- برای مثال محاسبه‌ی تعدادی پارامتر برای بررسی این که به یک شخص وام تعلق می‌گیرد یا نه
- ‫به چنین قانون تجاری، usecase گفته می‌شود
    - ‫یک usecase توصیفی از روشی است که یک سیستم خودکار استفاده می‌شود
- این‌ها قوانین «فقط برای اپلیکیشن» هستند - بر خلاف قوانین تجاری قطعی
- فقط برای اپلیکیشن: application-specific
- یوزکیس‌ها به این که داده چطور به کاربر عرضه می‌شود کاری ندارند، بلکه فقط قوانین را فراهم می‌کنند
    - وابستگی از ورودی و خروجی به سمت یوزکیس است
- موجودیت‌ها از یوزکیس‌هایی که آن‌ها را کنترل می‌کنند اطلاعی ندارند
    - وابستگی از یوزکیس به سمت موجودیت‌هاست

### مدل‌های درخواست و پاسخ : ‫Request & Response Models

- یوزکیس ساختار داده‌ی درخواست را پذیرفته و ساختار داده‌ی پاسخ را برمی‌گرداند
- این ساختارهای داده به چیزی وابسته نیستند
- پس اگر مثلا قرار به کار با وب باشد این درخواست‌های وب هستند که باید به ساختار داده‌ی یوزکیس وابسته باشند

### نتیجه‌گیری

- قوانین تجاری باید مستقل‌ترین و قابل استفاده‌ی مجددترین کدهای سیستم باشند