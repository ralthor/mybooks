# ‫فصل یازدهم: DIP: Dependency Inversion Principle

قابل انعطاف‌ترین سیستم‌‫ها آن‌هایی هستند که وابستگی‌های کدی در آن‌ها تنها به abstraction است نه به concrete codes

البته این برای همه‌ی کلاس‌ها ممکن نیست، مثلا کلاس رشته. اما این کلاس تغییر نمی‌کند

این قسمت‌های فرّار سیستم هستند که می‌خواهیم کمترین وابستگی را به آن‌ها داشته باشیم. قسمت‌هایی که مرتبا تغییر می‌کنند

فّرار: volatile

**استفاده از factory**

برای تولید اشیائی که concrete هستند و فرّار و باعث وابستگی ناخواسته و فراوان  می‌شوند

برای گریز از این وابستگی‌های ناخواسته از abstract factory استفاده می‌کنیم 

![image.jpg](%E2%80%AB%D9%81%D8%B5%D9%84%20%DB%8C%D8%A7%D8%B2%D8%AF%D9%87%D9%85%20DIP%20Dependency%20Inversion%20Principle%20538fac3776384a90b6637fa275237a33/image.jpg)

اینجا سرویس فاکتوری اشیائی به دست می‌دهد که از طریق وسط سرویس قابل دستیابی هستند و وابستگی را از بین می‌برد 

خط مورب مرزی میان تجرید و کانکریت است که مرز معماری است و بین دو کامپوننت کشیده می‌شود 

جریان کنترل بین کامپوننت‌ها خلاف جریان وابستگی است 

اصل وارونگی وابستگی را نمی‌توان همیشه حفظ کرد، اما برهم زنندگان آن را می‌توان به تعداد کمی کامپوننت کانکریت محدود کرد

 

**قانون وابستگی** 

بین کامپوننت‌ها وابستگی را نشان می‌دهد که باید به سمت موجودیت‌های مجرد باشد